(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();let p=localStorage.getItem("rlLevelingThemeV3")||"minimalist",ye,Ve;const Lt=["minimalist","cyberpunk","matrix","8bit","crt-glow","early-web","text-terminal"];function Je(e){const t=e.toLowerCase();if(!ye||!Ve){console.warn("applyTheme called before essential DOM elements (body, themeFontLink) were initialized.");return}Lt.forEach(m=>ye.classList.remove(`theme-${m}`)),ye.classList.add(`theme-${t}`);let n="",s="76,175,80";switch(t){case"cyberpunk":n="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap";break;case"matrix":n="https://fonts.googleapis.com/css2?family=VT323&display=swap";break;case"8bit":n="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap";break;case"crt-glow":n="https://fonts.googleapis.com/css2?family=Cutive+Mono&display=swap",document.documentElement.style.setProperty("--crt-text-main-color","#4CAF50"),s="76,175,80";break;case"text-terminal":n="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;700&display=swap";break;case"minimalist":case"early-web":default:n="";break}Ve.href=n,document.documentElement.style.setProperty("--crt-text-main-color-rgb",s);const i=document.getElementById("messageDiv");i&&(t==="text-terminal"?i.classList.add("blinking-cursor"):i.classList.remove("blinking-cursor"));const r=document.getElementById("supportNoInternetLink");r&&setTimeout(()=>{r.style.color=getComputedStyle(document.documentElement).getPropertyValue("--color-link").trim()},0),localStorage.setItem("rlLevelingThemeV3",t),p=t,Pt(t)}let qe=null;function Rt(){return!qe&&(window.AudioContext||window.webkitAudioContext)&&(qe=new(window.AudioContext||window.webkitAudioContext)),qe}function d(e="sine",t=440,n=.05,s=.03,i=.005,r=.04,m=!1){const l=Rt();if((!l||l.state==="suspended")&&(l==null||l.resume().catch(T=>console.warn("AudioContext resume failed",T))),!l||l.state!=="running"){console.warn("AudioContext not available or not running. Sound not played.");return}try{if(m){const T=l.sampleRate*n,u=l.createBuffer(1,T,l.sampleRate),f=u.getChannelData(0);for(let E=0;E<T;E++)f[E]=Math.random()*2-1;const M=l.createBufferSource();M.buffer=u;const v=l.createGain();v.gain.setValueAtTime(0,l.currentTime),v.gain.linearRampToValueAtTime(s,l.currentTime+i),v.gain.linearRampToValueAtTime(0,l.currentTime+i+r),M.connect(v),v.connect(l.destination),M.start(l.currentTime),M.stop(l.currentTime+n)}else{const T=l.createOscillator(),u=l.createGain();T.connect(u),u.connect(l.destination),T.type=e,T.frequency.setValueAtTime(t,l.currentTime),u.gain.setValueAtTime(0,l.currentTime),u.gain.linearRampToValueAtTime(s,l.currentTime+i),u.gain.linearRampToValueAtTime(0,l.currentTime+i+r),T.start(l.currentTime),T.stop(l.currentTime+n)}}catch(T){console.error("Error playing sound:",T)}}function Pt(e){switch(e){case"cyberpunk":d("sawtooth",110,.3,.02,.01,.25),setTimeout(()=>d("sine",1e3,.2,.015,.05,.15),100);break;case"matrix":d("sawtooth",50,.5,.02,.01,.4),setTimeout(()=>d("sine",1500,.1,.01,.08,.02),80),setTimeout(()=>d("sine",1200,.1,.01,.08,.02),180);break;case"8bit":d("square",660,.07,.03,.001,.06),setTimeout(()=>d("square",770,.07,.03,.001,.06),80),setTimeout(()=>d("square",880,.1,.03,.001,.09),160);break;case"crt-glow":d("sine",60,.8,.01,.3,.45),d(null,0,.6,.003,.01,.55,!0),setTimeout(()=>d("sine",15750,.15,.004,.02,.12),70);break;case"early-web":d("triangle",1e3,.04,.02),setTimeout(()=>d("triangle",1200,.04,.02),50),setTimeout(()=>d("triangle",900,.04,.02),100);break;case"text-terminal":d("square",2e3,.03,.025,.001,.02),setTimeout(()=>d("sine",800,.1,.015,.01,.09),50);break}}function X(){switch(p){case"cyberpunk":d("square",660,.06,.02,.005,.05);break;case"matrix":d("sine",1200,.03,.015,.002,.025);break;case"8bit":d("square",440,.05,.03,.001,.04);break;case"crt-glow":d("triangle",700,.04,.01,.005,.03);break;case"early-web":d("triangle",1e3,.03,.02,.001,.02);break;case"text-terminal":d("square",1500,.02,.03,.001,.015);break}}function ct(e=!1){p==="cyberpunk"||p==="matrix"||p==="crt-glow"||p==="text-terminal"?e?(d("sawtooth",1200,.25,.04,.01,.2),setTimeout(()=>d("sawtooth",1200,.25,.04,.01,.2),300)):d("triangle",1e3,.1,.02,.005,.09):p==="8bit"&&(e?(d("square",800,.15,.03),setTimeout(()=>d("square",800,.15,.03),200)):d("square",1e3,.08,.025))}function I(){p==="cyberpunk"||p==="matrix"||p==="text-terminal"?d("sawtooth",220,.15,.03,.01,.14):p==="8bit"?(d("square",200,.1,.03),setTimeout(()=>d("square",150,.1,.03),120)):p==="crt-glow"&&d("sawtooth",150,.2,.02,.01,.18)}function Ae(){p==="cyberpunk"||p==="matrix"||p==="text-terminal"?(d("sine",880,.1,.03,.005,.09),setTimeout(()=>d("sine",1046.5,.08,.02,.005,.07),100)):p==="8bit"?(d("square",523.25,.08,.03),setTimeout(()=>d("square",659.25,.08,.03),90),setTimeout(()=>d("square",783.99,.12,.03),180)):p==="crt-glow"&&(d("sine",700,.15,.02,.01,.13),setTimeout(()=>d("sine",900,.1,.015,.01,.08),120))}let o={},a=null,k=!1,b=null,P=0,pe=0;const Ze=100;let re=null,ze=null,V=0;const Ot=25,wt=35,mt=5;let _=!1,K=0;const Qe=["Are you sure you want to reset all your progress? This action cannot be undone.","Seriously, this will wipe everything. Are you absolutely certain?","This is your final chance. Resetting will delete your character and all task history. Proceed?","Okay, if you insist! Clicking 'Yes' will erase all data. Still want to do this?","FINAL WARNING! Clicking 'Yes' means total data annihilation. No going back!"];let U=0,g=!1,x=0;const dt=1*60*60*1e3,Xt=20;let J=null,Ye=0,Te=0;const Ut=7e3,xt=5,Bt=["Liar. The task was just given.","Seriously? You think I wouldn't notice?","Try actually doing the task, pal.","My grandma could click faster... if she was trying to cheat.","Alert! Suspiciously fast completion detected.","Were you even trying or just mashing buttons?","That's not how this works. That's not how any of this works.","Okay, Flash. Slow down a bit.","Whoa there, speedy! Give it a moment.","Error 402: Payment (of effort) Required."];let ae=null;const Z={},ft=[],pt={},Tt={},ht=[],le=[];window.AGILITY_X_ITEMS=["Agility ladder","Obstacle course","Jump rope","Cone drills","Balance board","Speed hurdles","Reaction ball","Plyometric box","Track field","Agility cones"];window.STRENGTH_X_ITEMS=["Free weights","Resistance bands","Weight machines","Bodyweight exercises","Dumbbells","Kettlebells","Barbell","Medicine ball","Power rack","Pull-up bar"];window.ENDURANCE_X_ITEMS=["Running track","Cycling route","Swimming pool","Rowing machine","Treadmill","Elliptical","Stair climber","Jump rope","Hiking trail","Trail running"];window.PROBLEMSOLVING_X_ITEMS=["Puzzle games","Brain teasers","Strategy games","Logic problems","Escape rooms","Coding challenges","Riddles","Math problems","Sudoku","Board games"];window.LEARNING_X_ITEMS=["Online courses","Books","Podcasts","Tutorials","Documentaries","Webinars","Workshops","Educational videos","Study groups","Language apps"];window.CREATIVITY_X_ITEMS=["Drawing canvas","Painting easel","Writing software","Musical instrument","Crafting station","Digital camera","Dance studio floor","Acting script","Design software","Brainstorming whiteboard"];window.FINLIT_X_ITEMS=["Budgeting apps","Financial books","Fin-tech online courses","Investment webinars","Economic podcasts","Stock simulators","Wealth workshops","Personal finance blogs","Money management tools","Certified financial advisors"];window.BUDGETING_X_ITEMS=["Expense tracker app","Digital budget planner","Financial spreadsheet","Mobile finance app","Zero-based budget system","Financial goal journal","Bank transaction log","Automated bill organizer","Cash flow projection worksheet","Savings target visualizer"];window.INVESTING_X_ITEMS=["Stock market simulators","Robo-advisor apps","Financial news aggregators","Algorithmic trading courses","Crypto exchange webinars","Portfolio analysis trackers","Mutual fund prospectuses","Decentralized finance platforms","Investment strategy clubs","Brokerage API consultations"];window.DISCIPLINE_X_ITEMS=["Digital daily schedule","Habit formation tracker","Guided meditation routine","AI personal trainer plan","Adaptive study timetable","Smart wake-up system","Time-blocking software","Productivity metrics journal","Cognitive focus techniques","Peer accountability network"];window.COMMUNITY_X_ITEMS=["Local charity organization","Community tech hub","Online volunteer collective","Urban eco-restoration drive","Crowdsourced fundraising platform","Digital food bank network","Cyber-neighborhood watch program","Elderly tech support initiative","Virtual animal rescue shelter","Youth mentorship program"];window.RELATIONSHIP_X_ITEMS=["Family member","Significant other","Close confidant","Old acquaintance","Academic peer","Forgotten contact","Trusted friend","Sibling unit","Professional mentor","Online community member"];window.SELFAWARENESS_X_ITEMS=["Encrypted digital journal","Biofeedback meditation device","AI therapy chatbot sessions","Mindfulness training apps","Cognitive bias reflection exercises","Psychometric personality assessments","360-degree peer feedback","Gamified self-assessment quizzes","Somatic breathing exercises","Emotional intelligence check-ins"];let Ie,te,ne,$,S,z,ce,me,de,ue,w,y,j,O,B,F,Se,be,_e,H,et,W,tt,ke,R,nt,Ne,Ce,ie,Ke,G,De,ge,D,Le,Re,L,Pe,Oe,Y,we,C,Me,ve,je,Xe,Ue,fe=null;const Ft=15e3;let Ge=!1,oe=null,Q,it,ot,Be;const h={currentStep:0,steps:[],isActive:!1};function Vt(){Object.assign(Z,{Strength:{domain:"Physical"},Endurance:{domain:"Physical"},Agility:{domain:"Physical"},Focus:{domain:"Mental"},ProblemSolving:{domain:"Mental"},Learning:{domain:"Mental"},Creativity:{domain:"Mental"},FinancialLiteracy:{domain:"Financial"},Budgeting:{domain:"Financial"},Investing:{domain:"Financial"},Discipline:{domain:"Philosophical"},SelfAwareness:{domain:"Philosophical"},GoalSetting:{domain:"Philosophical"},Mindfulness:{domain:"Philosophical"},Community:{domain:"Social"},Relationship:{domain:"Social"}}),ft.push({maxLevel:4,name:"⚔️ Novice"},{maxLevel:9,name:"⚔️ Apprentice"},{maxLevel:14,name:"⚔️ Journeyman"},{maxLevel:19,name:"⚔️ Expert"},{maxLevel:24,name:"⚔️ Master"},{maxLevel:29,name:"⚔️ Grandmaster"},{maxLevel:34,name:"⚔️ Elder"},{maxLevel:39,name:"⚔️ Demigod"},{maxLevel:44,name:"⚔️ Legendary"},{maxLevel:49,name:"⚔️ Archmage"},{maxLevel:59,name:"⚔️ Celestial"},{maxLevel:69,name:"⚔️ Immortal"},{maxLevel:79,name:"⚔️ Overlord"},{maxLevel:89,name:"⚔️ Eternal"},{maxLevel:99,name:"⚔️ Ascended"},{maxLevel:149,name:"⚔️ Primordial"},{maxLevel:150,name:"⚔️ Mythical"}),Object.assign(pt,{1:"A",2:"A",3:"A",4:"A",5:"A",6:"B",7:"B",8:"B",9:"B",10:"B",11:"C",12:"C",13:"C",14:"C",15:"C",16:"C",17:"D",18:"D",19:"D",20:"D",21:"D"}),Object.assign(Tt,{A:"Very Easy",B:"Easy",C:"Medium",D:"Hard",E:"Impossible",F:"Futile",G:"Hopeless","G+":"Impassable","G++":"Impractical",H:"Inaccessible","H+":"Inconceivable","H++":"Insurmountable"}),ht.push("Meditations","Sapiens","Thinking, Fast and Slow","The Power of Habit","Man's Search for Meaning","Atomic Habits","Deep Work","Grit","Mindset","How to Win Friends","1984","Brave New World","The Art of War","The Prince","Cosmos","The Selfish Gene","Guns, Germs, and Steel","A Short History of Nearly Everything","Influence: The Psychology of Persuasion","The 7 Habits of Highly Effective People","To Kill a Mockingbird","The Great Gatsby","The Lord of the Rings","Dune","Foundation","Fahrenheit 451","The Hitchhiker's Guide to the Galaxy","Surely You're Joking, Mr. Feynman!","A Brief History of Time","The Code Book","Gödel, Escher, Bach","The Republic","Nicomachean Ethics","Tao Te Ching","Walden","Thus Spoke Zarathustra","The Bhagavad Gita","Zen and the Art of Motorcycle Maintenance","Letters from a Stoic","Candide","The Alchemist","Flow: The Psychology of Optimal Experience","Emotional Intelligence","The Gifts of Imperfection","Daring Greatly","Quiet: The Power of Introverts in a World That Can't Stop Talking","The Body Keeps the Score","Thinking in Bets","Start with Why","Range: Why Generalists Triumph in a Specialized World","The Subtle Art of Not Giving a F*ck","Ultralearning","Nonviolent Communication","The Happiness Hypothesis","Attached: The New Science of Adult Attachment","Crucial Conversations","On the Origin of Species","Silent Spring","The Double Helix","The Emperor of All Maladies: A Biography of Cancer","The Sixth Extinction: An Unnatural History","Astrophysics for People in a Hurry","The Immortal Life of Henrietta Lacks","The Man Who Mistook His Wife for a Hat","Why We Sleep","Entangled Life","The Diary of a Young Girl","The Autobiography of Malcolm X","Team of Rivals: The Political Genius of Abraham Lincoln","Alexander Hamilton","Unbroken: A World War II Story of Survival, Resilience, and Redemption","SPQR: A History of Ancient Rome","Genghis Khan and the Making of the Modern World","The Gulag Archipelago","A People's History of the United States","The Warmth of Other Suns","The Intelligent Investor","Rich Dad Poor Dad","Freakonomics","The Lean Startup","Good to Great","Zero to One","Thinking Strategically","The Black Swan: The Impact of the Highly Improbable","Fooled by Randomness","I Will Teach You to Be Rich","The Millionaire Next Door","Principles: Life and Work","Pride and Prejudice","Moby Dick","War and Peace","Anna Karenina","The Brothers Karamazov","Crime and Punishment","Jane Eyre","Wuthering Heights","Great Expectations","Don Quixote","The Count of Monte Cristo","Frankenstein","Dracula","One Hundred Years of Solitude","Beloved","The Catcher in the Rye","Slaughterhouse-Five","Things Fall Apart","The Handmaid's Tale","Klara and the Sun","The Road","Life of Pi","The Kite Runner","Educated","Where the Crawdads Sing","Project Hail Mary","Circe","The Vanishing Half","Steal Like an Artist","Big Magic: Creative Living Beyond Fear","Creativity, Inc.","Originals: How Non-Conformists Move the World","The War of Art","How to Talk So Kids Will Listen & Listen So Kids Will Talk","The Five Love Languages","Difficult Conversations","Thanks for the Feedback","The Omnivore's Dilemma","How Not to Die","Spark: The Revolutionary New Science of Exercise and the Brain","Breath: The New Science of a Lost Art","Grain Brain","The Blue Zones");const e=[{id:"P001",difficultyCode:"A",skill:"Strength",descriptionTemplate:"Do <strong>[AMOUNT_X]</strong> push-ups.",variables:{AMOUNT_X:{min:5,max:15,levelScaleFactor:.5}},baseXPGain:10,baseXPFailurePenalty:5,timeLimitMinutes:null},{id:"P002",difficultyCode:"A",skill:"Endurance",descriptionTemplate:"Go for a <strong>[DURATION_Y]</strong> minute brisk walk.",variables:{DURATION_Y:{min:10,max:20,levelScaleFactor:.5}},baseXPGain:10,baseXPFailurePenalty:5,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"P003",difficultyCode:"A",skill:"Agility",descriptionTemplate:"Practice <strong>[AMOUNT_X]</strong> jumping jacks.",variables:{AMOUNT_X:{min:20,max:40,levelScaleFactor:1}},baseXPGain:8,baseXPFailurePenalty:4,timeLimitMinutes:null},{id:"P004",difficultyCode:"B",skill:"Strength",descriptionTemplate:"Complete <strong>[SETS]</strong> sets of <strong>[REPS]</strong> bodyweight squats.",variables:{SETS:{min:2,max:3,levelScaleFactor:.1},REPS:{min:10,max:15,levelScaleFactor:.5}},baseXPGain:15,baseXPFailurePenalty:7,timeLimitMinutes:null},{id:"P005",difficultyCode:"B",skill:"Endurance",descriptionTemplate:"Jog for <strong>[DURATION_Y]</strong> minutes.",variables:{DURATION_Y:{min:10,max:20,levelScaleFactor:.3}},baseXPGain:15,baseXPFailurePenalty:7,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"P006",difficultyCode:"B",skill:"Agility",descriptionTemplate:"Hold a balancing pose (e.g., tree pose) for <strong>[DURATION_S]</strong> seconds on each leg. Allocate <strong>[TOTAL_MINUTES]</strong> minutes for this task.",variables:{DURATION_S:{min:20,max:40,levelScaleFactor:1},TOTAL_MINUTES:{min:2,max:5,levelScaleFactor:.1}},baseXPGain:12,baseXPFailurePenalty:6,timeLimitMinutes:"DYNAMIC",durationVariable:"TOTAL_MINUTES"},{id:"P007",difficultyCode:"C",skill:"Strength",descriptionTemplate:"Hold a plank for a total of <strong>[DURATION_M]</strong> minutes (can be broken into sets).",variables:{DURATION_M:{min:1,max:3,levelScaleFactor:.1}},baseXPGain:20,baseXPFailurePenalty:10,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_M"},{id:"P008",difficultyCode:"C",skill:"Endurance",descriptionTemplate:"Cycle for <strong>[DISTANCE_Z]</strong> km or <strong>[DURATION_Y]</strong> minutes.",variables:{DISTANCE_Z:{min:3,max:7,levelScaleFactor:.2},DURATION_Y:{min:20,max:35,levelScaleFactor:1}},baseXPGain:25,baseXPFailurePenalty:12,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"P009",difficultyCode:"C",skill:"Strength",descriptionTemplate:"Perform <strong>[AMOUNT_X]</strong> lunges per leg.",variables:{AMOUNT_X:{min:10,max:15,levelScaleFactor:.5}},baseXPGain:18,baseXPFailurePenalty:9,timeLimitMinutes:null},{id:"P010",difficultyCode:"A",skill:"Endurance",descriptionTemplate:"Do a <strong>[DURATION_Y]</strong> minute stretching routine.",variables:{DURATION_Y:{min:5,max:10,levelScaleFactor:.2}},baseXPGain:7,baseXPFailurePenalty:3,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"M001",difficultyCode:"A",skill:"Learning",descriptionTemplate:"Read <strong>[PAGE_X]</strong> pages from '<strong>[BOOK_TITLE]</strong>'.",variables:{PAGE_X:{min:5,max:15,levelScaleFactor:.5},BOOK_TITLE:!0},baseXPGain:10,baseXPFailurePenalty:5,timeLimitMinutes:null},{id:"M002",difficultyCode:"A",skill:"Focus",descriptionTemplate:"Meditate for <strong>[DURATION_Y]</strong> minutes without distraction.",variables:{DURATION_Y:{min:3,max:7,levelScaleFactor:.2}},baseXPGain:10,baseXPFailurePenalty:5,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"M003",difficultyCode:"A",skill:"Creativity",descriptionTemplate:"Sketch something for <strong>[DURATION_Y]</strong> minutes.",variables:{DURATION_Y:{min:10,max:20,levelScaleFactor:.5}},baseXPGain:8,baseXPFailurePenalty:4,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"M004",difficultyCode:"B",skill:"ProblemSolving",descriptionTemplate:"Solve a Sudoku puzzle (easy/medium difficulty).",variables:{},baseXPGain:15,baseXPFailurePenalty:7,timeLimitMinutes:25},{id:"M005",difficultyCode:"B",skill:"Learning",descriptionTemplate:"Watch an educational video on a new topic for <strong>[DURATION_Y]</strong> minutes and write <strong>[POINTS]</strong> key takeaways.",variables:{DURATION_Y:{min:15,max:25,levelScaleFactor:.5},POINTS:{min:3,max:5,levelScaleFactor:.1}},baseXPGain:15,baseXPFailurePenalty:7,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"M006",difficultyCode:"B",skill:"Focus",descriptionTemplate:"Work on a single task for <strong>[DURATION_Y]</strong> minutes using the Pomodoro Technique.",variables:{DURATION_Y:{min:20,max:40,levelScaleFactor:1}},baseXPGain:18,baseXPFailurePenalty:9,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"M007",difficultyCode:"C",skill:"ProblemSolving",descriptionTemplate:"Complete a medium-difficulty logic puzzle or brain teaser.",variables:{},baseXPGain:20,baseXPFailurePenalty:10,timeLimitMinutes:30},{id:"M008",difficultyCode:"C",skill:"Learning",descriptionTemplate:"Research and write a short summary (<strong>[WORDS]</strong> words) on a complex topic over <strong>[DURATION_M]</strong> minutes.",variables:{WORDS:{min:100,max:250,levelScaleFactor:10},DURATION_M:{min:45,max:75,levelScaleFactor:1.5}},baseXPGain:25,baseXPFailurePenalty:12,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_M"},{id:"M009",difficultyCode:"C",skill:"Creativity",descriptionTemplate:"Write a short story or poem of at least <strong>[LINES_WORDS]</strong> lines/words. Spend <strong>[DURATION_M]</strong> minutes.",variables:{LINES_WORDS:{min:10,max:150,levelScaleFactor:5},DURATION_M:{min:20,max:40,levelScaleFactor:1}},baseXPGain:22,baseXPFailurePenalty:11,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_M"},{id:"M010",difficultyCode:"A",skill:"ProblemSolving",descriptionTemplate:"Organize your digital files or desktop for <strong>[DURATION_Y]</strong> minutes.",variables:{DURATION_Y:{min:10,max:20,levelScaleFactor:.5}},baseXPGain:9,baseXPFailurePenalty:4,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"F001",difficultyCode:"A",skill:"Budgeting",descriptionTemplate:"Track all your expenses for one day meticulously.",variables:{},baseXPGain:10,baseXPFailurePenalty:5,timeLimitMinutes:null},{id:"F002",difficultyCode:"A",skill:"FinancialLiteracy",descriptionTemplate:"Read one article about basic personal finance (e.g., saving, debt) for <strong>[DURATION_Y]</strong> minutes.",variables:{DURATION_Y:{min:10,max:20,levelScaleFactor:.3}},baseXPGain:8,baseXPFailurePenalty:4,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"F003",difficultyCode:"A",skill:"Investing",descriptionTemplate:"Learn the definition of <strong>[TERM_COUNT]</strong> new investing terms.",variables:{TERM_COUNT:{min:1,max:3,levelScaleFactor:.1}},baseXPGain:7,baseXPFailurePenalty:3,timeLimitMinutes:null},{id:"F004",difficultyCode:"B",skill:"Budgeting",descriptionTemplate:"Create or review your weekly/monthly budget plan. Spend <strong>[DURATION_M]</strong> minutes.",variables:{DURATION_M:{min:20,max:40,levelScaleFactor:1}},baseXPGain:15,baseXPFailurePenalty:7,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_M"},{id:"F005",difficultyCode:"B",skill:"FinancialLiteracy",descriptionTemplate:"Research and compare <strong>[PRODUCT_COUNT]</strong> financial products (e.g., savings accounts, credit cards) for <strong>[DURATION_M]</strong> minutes.",variables:{PRODUCT_COUNT:{min:2,max:3},DURATION_M:{min:15,max:30,levelScaleFactor:.5}},baseXPGain:18,baseXPFailurePenalty:9,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_M"},{id:"F006",difficultyCode:"B",skill:"Investing",descriptionTemplate:"Watch a <strong>[DURATION_Y]</strong> minute video explaining a basic investment strategy.",variables:{DURATION_Y:{min:10,max:20,levelScaleFactor:.5}},baseXPGain:16,baseXPFailurePenalty:8,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"F007",difficultyCode:"C",skill:"Budgeting",descriptionTemplate:"Identify <strong>[SAVING_IDEAS]</strong> ways to reduce your monthly expenses. Spend <strong>[DURATION_M]</strong> minutes brainstorming.",variables:{SAVING_IDEAS:{min:2,max:5,levelScaleFactor:.2},DURATION_M:{min:15,max:25,levelScaleFactor:.5}},baseXPGain:20,baseXPFailurePenalty:10,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_M"},{id:"F008",difficultyCode:"C",skill:"FinancialLiteracy",descriptionTemplate:"Read a chapter from a book on personal finance or investing. Allocate <strong>[DURATION_M]</strong> minutes.",variables:{DURATION_M:{min:30,max:60,levelScaleFactor:1}},baseXPGain:22,baseXPFailurePenalty:11,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_M"},{id:"F009",difficultyCode:"C",skill:"Investing",descriptionTemplate:"Simulate making a paper trade and track its hypothetical performance for a day. Spend <strong>[DURATION_M]</strong> minutes on setup and initial analysis.",variables:{DURATION_M:{min:20,max:40,levelScaleFactor:1}},baseXPGain:25,baseXPFailurePenalty:12,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_M"},{id:"F010",difficultyCode:"A",skill:"Budgeting",descriptionTemplate:"Check your bank account balance and recent transactions.",variables:{},baseXPGain:5,baseXPFailurePenalty:2,timeLimitMinutes:null},{id:"PH001",difficultyCode:"A",skill:"SelfAwareness",descriptionTemplate:"Write down <strong>[AMOUNT_X]</strong> things you are grateful for today.",variables:{AMOUNT_X:{min:3,max:5,levelScaleFactor:.2}},baseXPGain:10,baseXPFailurePenalty:5,timeLimitMinutes:null},{id:"PH002",difficultyCode:"A",skill:"Mindfulness",descriptionTemplate:"Practice <strong>[DURATION_Y]</strong> minutes of mindful breathing.",variables:{DURATION_Y:{min:3,max:7,levelScaleFactor:.1}},baseXPGain:8,baseXPFailurePenalty:4,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"PH003",difficultyCode:"A",skill:"GoalSetting",descriptionTemplate:"Review your main goal for the week.",variables:{},baseXPGain:7,baseXPFailurePenalty:3,timeLimitMinutes:null},{id:"PH004",difficultyCode:"B",skill:"Discipline",descriptionTemplate:"Identify one time-wasting habit and consciously avoid it for <strong>[DURATION_H]</strong> hours.",variables:{DURATION_H:{min:2,max:4,levelScaleFactor:.1}},baseXPGain:15,baseXPFailurePenalty:7,timeLimitMinutes:null},{id:"PH005",difficultyCode:"B",skill:"SelfAwareness",descriptionTemplate:"Journal for <strong>[DURATION_Y]</strong> minutes about your thoughts and feelings today.",variables:{DURATION_Y:{min:10,max:15,levelScaleFactor:.3}},baseXPGain:16,baseXPFailurePenalty:8,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"PH006",difficultyCode:"B",skill:"GoalSetting",descriptionTemplate:"Define one small, achievable goal for this week and write <strong>[STEPS]</strong> steps to achieve it. Spend <strong>[DURATION_M]</strong> minutes.",variables:{STEPS:{min:2,max:4,levelScaleFactor:.1},DURATION_M:{min:10,max:20,levelScaleFactor:.5}},baseXPGain:18,baseXPFailurePenalty:9,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_M"},{id:"PH007",difficultyCode:"C",skill:"Mindfulness",descriptionTemplate:"Engage in a mindful activity (e.g., mindful walking, eating) for <strong>[DURATION_Y]</strong> minutes.",variables:{DURATION_Y:{min:15,max:25,levelScaleFactor:.5}},baseXPGain:20,baseXPFailurePenalty:10,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"PH008",difficultyCode:"C",skill:"SelfAwareness",descriptionTemplate:"Reflect on a recent challenge and identify <strong>[LESSONS]</strong> lessons learned. Journal for <strong>[DURATION_M]</strong> minutes.",variables:{LESSONS:{min:1,max:3,levelScaleFactor:.1},DURATION_M:{min:15,max:25,levelScaleFactor:.5}},baseXPGain:22,baseXPFailurePenalty:11,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_M"},{id:"PH009",difficultyCode:"C",skill:"Discipline",descriptionTemplate:"Complete a task you've been procrastinating on for at least <strong>[DURATION_Y]</strong> minutes.",variables:{DURATION_Y:{min:20,max:45,levelScaleFactor:1}},baseXPGain:25,baseXPFailurePenalty:12,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_Y"},{id:"PH010",difficultyCode:"A",skill:"Mindfulness",descriptionTemplate:"Take <strong>[COUNT]</strong> deep, slow breaths, focusing only on your breath over <strong>[DURATION_M]</strong> minutes.",variables:{COUNT:{min:5,max:10,levelScaleFactor:.5},DURATION_M:{min:1,max:3,levelScaleFactor:.1}},baseXPGain:6,baseXPFailurePenalty:3,timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_M"}];le.push(...e),[{skill:"Agility",prefix:"AGL",itemsArrayName:"AGILITY_X_ITEMS",baseXP:8,diffStep:2,timeVars:{A:{min:5,max:15,scale:.3},B:{min:10,max:25,scale:.5},C:{min:20,max:40,scale:.7}},templates:["Train your agility for <strong>[DURATION_M]</strong> minutes with <strong>[ITEM_X]</strong>.","Practice agility drills for <strong>[DURATION_M]</strong> minutes involving <strong>[ITEM_X]</strong>.","Improve footwork and coordination for <strong>[DURATION_M]</strong> minutes using <strong>[ITEM_X]</strong>.","Complete <strong>[DURATION_M]</strong> minutes of agility-focused exercises with <strong>[ITEM_X]</strong>.","Perform <strong>[SETS]</strong> sets of agility exercises using <strong>[ITEM_X]</strong> for approx. <strong>[DURATION_M]</strong> min total.","Warm up agility muscles for <strong>[DURATION_M]</strong> minutes with <strong>[ITEM_X]</strong>.","Work on reaction time and balance for <strong>[DURATION_M]</strong> minutes using <strong>[ITEM_X]</strong>.","Utilize <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes in your agility practice.","Challenge your agility with an activity involving <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Cool down after an agility session with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes."]},{skill:"Strength",prefix:"STR",itemsArrayName:"STRENGTH_X_ITEMS",baseXP:10,diffStep:2,timeVars:{A:{min:10,max:20,scale:.4},B:{min:15,max:30,scale:.6},C:{min:25,max:45,scale:.8}},templates:["Engage in strength training for <strong>[DURATION_M]</strong> minutes involving <strong>[ITEM_X]</strong>.","Complete strength sets for <strong>[DURATION_M]</strong> minutes using <strong>[ITEM_X]</strong>.","Train your muscles for <strong>[DURATION_M]</strong> minutes with exercises using <strong>[ITEM_X]</strong>.","Perform reps using <strong>[ITEM_X]</strong> for a <strong>[DURATION_M]</strong> minute strength workout.","Warm up muscles for strength work for <strong>[DURATION_M]</strong> minutes, using <strong>[ITEM_X]</strong>.","Incorporate <strong>[ITEM_X]</strong> into your strength training for <strong>[DURATION_M]</strong> minutes.","Cool down after strength work involving <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Build muscular endurance using <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Do strength circuits involving <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Focus on core strength for <strong>[DURATION_M]</strong> minutes with exercises using <strong>[ITEM_X]</strong>."]},{skill:"Endurance",prefix:"END",itemsArrayName:"ENDURANCE_X_ITEMS",baseXP:9,diffStep:2,timeVars:{A:{min:15,max:25,scale:.5},B:{min:20,max:40,scale:.7},C:{min:30,max:60,scale:.9}},templates:["Perform endurance training for <strong>[DURATION_M]</strong> minutes using <strong>[ITEM_X]</strong>.","Engage in a cardio activity for <strong>[DURATION_M]</strong> minutes with <strong>[ITEM_X]</strong>.","Perform a cycling endurance activity for <strong>[DURATION_M]</strong> minutes, involving <strong>[ITEM_X]</strong>.","Perform a swimming endurance activity for <strong>[DURATION_M]</strong> minutes at <strong>[ITEM_X]</strong>.","Use <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes in an endurance workout.","Warm up for an endurance session for <strong>[DURATION_M]</strong> minutes, using <strong>[ITEM_X]</strong>.","Cool down after endurance training involving <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Perform endurance intervals for <strong>[DURATION_M]</strong> minutes with <strong>[ITEM_X]</strong>.","Complete a steady-state endurance workout using <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Challenge your stamina with an activity related to <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes."]},{skill:"ProblemSolving",prefix:"PRS",itemsArrayName:"PROBLEMSOLVING_X_ITEMS",baseXP:12,diffStep:3,timeVars:{A:{min:10,max:20,scale:.4},B:{min:15,max:30,scale:.6},C:{min:20,max:40,scale:.8}},templates:["Work on <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes to solve problems.","Practice problem-solving for <strong>[DURATION_M]</strong> minutes using <strong>[ITEM_X]</strong>.","Engage with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes to sharpen your mind.","Challenge yourself with a problem from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Complete <strong>[SETS]</strong> sets of problems from <strong>[ITEM_X]</strong> for approx. <strong>[DURATION_M]</strong> min total.","Improve critical thinking by engaging with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Use <strong>[ITEM_X]</strong> to enhance focus and problem-solving for <strong>[DURATION_M]</strong> minutes.","Attempt to solve <strong>[COUNT_X]</strong> problems from <strong>[ITEM_X]</strong> for approx. <strong>[DURATION_M]</strong> min total.","Engage in strategic thinking with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Dedicate <strong>[DURATION_M]</strong> minutes to analyzing and solving aspects of <strong>[ITEM_X]</strong>."]},{skill:"Learning",prefix:"LRN",itemsArrayName:"LEARNING_X_ITEMS",baseXP:10,diffStep:2,timeVars:{A:{min:15,max:25,scale:.5},B:{min:20,max:35,scale:.6},C:{min:30,max:50,scale:.7}},templates:["Learn from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Study <strong>[COUNT_X]</strong> sections using <strong>[ITEM_X]</strong> for approx. <strong>[DURATION_M]</strong> min total.","Study educational content from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Review material from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Engage with learning material from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Dedicate <strong>[DURATION_M]</strong> minutes to active learning with <strong>[ITEM_X]</strong>.","Practice skills learned from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Collaborate or discuss topics from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Follow a tutorial from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Review and consolidate knowledge from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes."]},{skill:"Creativity",prefix:"CRT",itemsArrayName:"CREATIVITY_X_ITEMS",baseXP:8,diffStep:2,timeVars:{A:{min:10,max:20,scale:.4},B:{min:15,max:30,scale:.6},C:{min:25,max:45,scale:.8}},templates:["Engage in a creative activity for <strong>[DURATION_M]</strong> minutes involving <strong>[ITEM_X]</strong>.","Work on a creative piece for <strong>[DURATION_M]</strong> minutes using <strong>[ITEM_X]</strong>.","Express your creativity for <strong>[DURATION_M]</strong> minutes through an activity related to <strong>[ITEM_X]</strong>.","Practice or develop a creative skill related to <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Engage in a crafting or making session for <strong>[DURATION_M]</strong> minutes, using <strong>[ITEM_X]</strong>.","Create or capture something for <strong>[DURATION_M]</strong> minutes using <strong>[ITEM_X]</strong>.","Perform or rehearse a creative piece for <strong>[DURATION_M]</strong> minutes involving <strong>[ITEM_X]</strong>.","Develop a creative concept for <strong>[DURATION_M]</strong> minutes, using <strong>[ITEM_X]</strong>.","Design or plan a creative project for <strong>[DURATION_M]</strong> minutes using <strong>[ITEM_X]</strong>.","Brainstorm creative ideas for <strong>[DURATION_M]</strong> minutes, using <strong>[ITEM_X]</strong>."]},{skill:"FinancialLiteracy",prefix:"FNL",itemsArrayName:"FINLIT_X_ITEMS",baseXP:10,diffStep:3,timeVars:{A:{min:10,max:20,scale:.3},B:{min:15,max:25,scale:.5},C:{min:20,max:35,scale:.6}},templates:["Learn about finance for <strong>[DURATION_M]</strong> minutes with <strong>[ITEM_X]</strong>.","Use <strong>[ITEM_X]</strong> to understand your finances for <strong>[DURATION_M]</strong> minutes.","Engage with financial education material from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Study financial information from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Practice financial planning using <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Learn about a financial topic via <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Explore financial tools like <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Study a financial learning activity from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Consult or review advice from <strong>[ITEM_X]</strong> regarding finances for <strong>[DURATION_M]</strong> minutes.","Review your personal finances using insights from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes."]},{skill:"Budgeting",prefix:"BDG",itemsArrayName:"BUDGETING_X_ITEMS",baseXP:9,diffStep:2,timeVars:{A:{min:5,max:15,scale:.2},B:{min:10,max:20,scale:.4},C:{min:15,max:30,scale:.5}},templates:["Work on your budget for <strong>[DURATION_M]</strong> minutes with <strong>[ITEM_X]</strong>.","Plan or review your budget using <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Track or categorize your expenses for <strong>[DURATION_M]</strong> minutes using <strong>[ITEM_X]</strong>.","Analyze your spending or financial data with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Set or review your savings goals using <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Check your bills and payments for <strong>[DURATION_M]</strong> minutes with <strong>[ITEM_X]</strong>.","Use <strong>[ITEM_X]</strong> to forecast expenses or income for <strong>[DURATION_M]</strong> minutes.","Adjust your budget categories using <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Organize your financial documents for <strong>[DURATION_M]</strong> minutes, with <strong>[ITEM_X]</strong>.","Monitor your cash flow or budget with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes."]},{skill:"Investing",prefix:"INV",itemsArrayName:"INVESTING_X_ITEMS",baseXP:12,diffStep:3,timeVars:{A:{min:10,max:20,scale:.4},B:{min:15,max:30,scale:.6},C:{min:25,max:45,scale:.8}},templates:["Research investments for <strong>[DURATION_M]</strong> minutes with <strong>[ITEM_X]</strong>.","Track your portfolio for <strong>[DURATION_M]</strong> minutes using <strong>[ITEM_X]</strong>.","Engage with investment education from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Practice investment strategies with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Read financial news from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Participate in an investment group involving <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Analyze investments or market trends using <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Use simulators like <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes to practice investing.","Consult or review information from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Review investment info using <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes."]},{skill:"Discipline",prefix:"DIS",itemsArrayName:"DISCIPLINE_X_ITEMS",baseXP:11,diffStep:2,timeVars:{A:{min:10,max:20,scale:.3},B:{min:15,max:25,scale:.5},C:{min:20,max:40,scale:.7}},templates:["Practice discipline for <strong>[DURATION_M]</strong> minutes using <strong>[ITEM_X]</strong>.","Track your habits or plan adherence for <strong>[DURATION_M]</strong> minutes with <strong>[ITEM_X]</strong>.","Engage in a focused activity for <strong>[DURATION_M]</strong> minutes, supported by <strong>[ITEM_X]</strong>.","Stick to an exercise plan for <strong>[DURATION_M]</strong> minutes, outlined by <strong>[ITEM_X]</strong>.","Study or work to a schedule for <strong>[DURATION_M]</strong> minutes, managed by <strong>[ITEM_X]</strong>.","Use a time-management tool like <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes to maintain focus.","Follow your routine diligently, planned with <strong>[ITEM_X]</strong>, for <strong>[DURATION_M]</strong> minutes.","Journal or reflect on your productivity for <strong>[DURATION_M]</strong> minutes using <strong>[ITEM_X]</strong>.","Practice cognitive focus techniques with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Check in with your accountability system <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes."]},{skill:"Community",prefix:"CMY",itemsArrayName:"COMMUNITY_X_ITEMS",baseXP:7,diffStep:2,timeVars:{A:{min:20,max:40,scale:.4},B:{min:30,max:60,scale:.6},C:{min:45,max:90,scale:.8}},templates:["Volunteer or contribute to <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Help organize activities for <strong>[DURATION_M]</strong> minutes with <strong>[ITEM_X]</strong>.","Attend a meeting or event for <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Actively participate in an initiative by <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Assist with fundraising for <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Support members of your community via <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Help improve a public space connected to <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Provide assistance through <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Engage with community project <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Participate in youth activities via <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes."]},{skill:"Relationship",prefix:"RLT",itemsArrayName:"RELATIONSHIP_X_ITEMS",baseXP:6,diffStep:1,timeVars:{A:{min:10,max:20,scale:.3},B:{min:15,max:30,scale:.4},C:{min:20,max:45,scale:.5}},templates:["Connect with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Have a meaningful conversation with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Catch up or spend quality time with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Plan or engage in a shared activity with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Share a meal or a moment with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Actively listen and offer support to <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Offer help or support to <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Reconnect or strengthen your bond with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Engage in a social activity with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Show appreciation or offer help to <strong>[ITEM_X]</strong> in a <strong>[DURATION_M]</strong> minute interaction."]},{skill:"SelfAwareness",prefix:"SLA",itemsArrayName:"SELFAWARENESS_X_ITEMS",baseXP:9,diffStep:2,timeVars:{A:{min:5,max:15,scale:.2},B:{min:10,max:20,scale:.4},C:{min:15,max:30,scale:.6}},templates:["Engage in self-reflection for <strong>[DURATION_M]</strong> minutes using <strong>[ITEM_X]</strong>.","Practice mindfulness for <strong>[DURATION_M]</strong> minutes, with <strong>[ITEM_X]</strong>.","Reflect on your thoughts for <strong>[DURATION_M]</strong> minutes, aided by <strong>[ITEM_X]</strong>.","Engage with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes to gain insights.","Participate in a self-awareness exercise with <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Use a self-help tool like <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Complete a self-assessment from <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes.","Practice mindful breathing for <strong>[DURATION_M]</strong> minutes, with <strong>[ITEM_X]</strong>.","Seek or reflect on feedback for <strong>[DURATION_M]</strong> minutes, using <strong>[ITEM_X]</strong>.","Perform an emotional intelligence check-in using <strong>[ITEM_X]</strong> for <strong>[DURATION_M]</strong> minutes."]}].forEach(n=>{n.templates.forEach((s,i)=>{let r,m;i<3?(r="A",m=n.timeVars.A):i<7?(r="B",m=n.timeVars.B):(r="C",m=n.timeVars.C);const l={DURATION_M:{min:m.min,max:m.max,levelScaleFactor:m.scale},ITEM_X:n.itemsArrayName};s.includes("[SETS]")&&(l.SETS={min:2,max:4,levelScaleFactor:.1}),s.includes("[COUNT_X]")&&(l.COUNT_X={min:1,max:5,levelScaleFactor:.2}),le.push({id:`${n.prefix}${String(i+1).padStart(3,"0")}`,skill:n.skill,difficultyCode:r,descriptionTemplate:s,variables:l,baseXPGain:n.baseXP+(r.charCodeAt(0)-65)*n.diffStep,baseXPFailurePenalty:Math.floor((n.baseXP+(r.charCodeAt(0)-65)*n.diffStep)/2),timeLimitMinutes:"DYNAMIC",durationVariable:"DURATION_M"})})})}document.addEventListener("DOMContentLoaded",()=>{ye=document.body,Ve=document.getElementById("themeFontLink"),Je(p),Vt(),Yt(),It(),Ie&&Ie.classList.add("hidden-for-intro"),ne&&ne.classList.add("hidden"),$&&$.classList.add("hidden"),setTimeout(()=>{te&&te.classList.add("visible")},100),setTimeout(()=>{te&&te.classList.remove("visible")},3e3),setTimeout(()=>{te&&(te.style.display="none"),Ie&&Ie.classList.remove("hidden-for-intro"),Wt(),mn(),g?at():o.name?(St(),At(),localStorage.getItem("hasSeenIntro_v1")==="true"?(c(`Welcome back, ${o.name}!`,"info"),ee()):yt()):vt(),N()},4600)});function Yt(){ye=document.body,Ve=document.getElementById("themeFontLink"),Ie=document.querySelector(".container"),te=document.getElementById("introOverlay"),ne=document.getElementById("setupScreen"),$=document.getElementById("mainAppScreen"),S=document.getElementById("messageDiv"),z=document.getElementById("setupForm"),document.getElementById("nameInput"),document.getElementById("ageInput"),document.getElementById("statusInput"),document.getElementById("weightInput"),document.getElementById("heightInput"),ce=document.getElementById("characterProfileButton"),me=document.getElementById("dashboardButton"),de=document.getElementById("generateTaskButton"),ue=document.getElementById("resetProgressButton"),w=document.getElementById("easterEggTrigger64"),y=document.getElementById("taskDisplayDiv"),j=document.getElementById("characterProfileModal"),O=document.getElementById("profileContent"),ie=document.getElementById("dashboardModal"),B=document.getElementById("timerCompleteModal"),F=document.getElementById("resetConfirmationModal"),Se=document.getElementById("resetConfirmationMessageDiv"),be=document.getElementById("resetConfirmYesButton"),_e=document.getElementById("resetConfirmNoButton"),H=document.getElementById("emergencyQuestModal"),et=document.getElementById("emergencyQuestTimer"),W=document.getElementById("cheatModal"),tt=document.getElementById("cheatMessageText"),ke=document.getElementById("cheatSorryButton"),Ke=document.querySelectorAll(".modal-close-button"),R=document.getElementById("simpleThemeToggleModal"),nt=document.getElementById("simpleThemeToggleText"),Ne=document.getElementById("simpleThemeToggleYesButton"),Ce=document.getElementById("simpleThemeToggleNoButton"),ge=document.getElementById("supportCreatorButton"),D=document.getElementById("supportPromptModal"),Le=document.getElementById("supportPromptYes"),Re=document.getElementById("supportPromptNo"),L=document.getElementById("supportRedirectConfirmModal"),Pe=document.getElementById("supportRedirectConfirmYes"),Oe=document.getElementById("supportRedirectConfirmNo"),Y=document.getElementById("supportNoInternetModal"),we=document.getElementById("supportNoInternetOk"),C=document.getElementById("superSecretThemesModal"),Me=document.getElementById("superSecretThemeOptionsView"),ve=document.getElementById("superSecretConfirmationView"),je=document.getElementById("superSecretConfirmationText"),Xe=document.getElementById("superSecretConfirmYesButton"),Ue=document.getElementById("superSecretConfirmNoButton"),G=document.getElementById("skipWarningModal"),De=document.getElementById("skipWarningOkButton"),Q=document.getElementById("introSequenceModal"),it=document.getElementById("introSequenceModalTitle"),ot=document.getElementById("introSequenceModalBody"),Be=document.getElementById("introSequenceModalActions");const e=document.getElementById("switchToAdvancedDashboardButton"),t=document.getElementById("switchToNormalDashboardButton");e&&e.addEventListener("click",()=>{X();const s=document.getElementById("normalDashboardView"),i=document.getElementById("advancedDashboardView");s&&s.classList.add("hidden"),i&&i.classList.remove("hidden"),Kt()}),t&&t.addEventListener("click",()=>{X();const s=document.getElementById("normalDashboardView"),i=document.getElementById("advancedDashboardView");i&&i.classList.add("hidden"),s&&s.classList.remove("hidden")}),[z==null?void 0:z.querySelector("button"),ce,me,de,ue,be,_e,ke,Ne,Ce,ge,Le,Re,Pe,Oe,we,Xe,Ue,De,e,t,...document.querySelectorAll("#timerCompleteModal .modal-actions button"),...document.querySelectorAll("#superSecretThemesModal .theme-options-grid button"),...Ke].filter(Boolean).forEach(s=>{s&&s.addEventListener("click",X)}),z&&z.addEventListener("submit",$t),ce&&ce.addEventListener("click",qt),me&&me.addEventListener("click",zt),w&&(w.addEventListener("click",fn),w.addEventListener("mousedown",gt),w.addEventListener("mouseup",xe),w.addEventListener("mouseleave",xe),w.addEventListener("touchstart",gt,{passive:!1}),w.addEventListener("touchend",xe),w.addEventListener("touchcancel",xe)),de&&de.addEventListener("click",()=>{if(g){c("System Lockout: Cooldown in progress.","error",!0),I();return}k?(c("Please resolve the current task first.","error",!0),I()):ee()}),ue&&ue.addEventListener("click",dn),y&&y.addEventListener("click",nn),Ke.forEach(s=>{s.addEventListener("click",()=>{const i=s.getAttribute("data-modal-close");if(!i)return;const r=document.getElementById(i);if(r){if(r.id==="emergencyQuestModal"||r.id==="cheatModal")return;r.classList.add("hidden"),i==="superSecretThemesModal"&&se()}})}),[j,ie,B,F,H,W,R,C,D,L,Y,G,Q].forEach(s=>{s&&s.addEventListener("click",function(i){if(i.target===this){if(X(),this.id==="emergencyQuestModal"||this.id==="cheatModal"||this.id==="supportPromptModal"||this.id==="supportRedirectConfirmModal"||this.id==="introSequenceModal")return;if(this.id==="supportNoInternetModal"||this.id==="skipWarningModal"){this.classList.add("hidden");return}this.id==="resetConfirmationModal"?rt():this.id==="timerCompleteModal"&&re?re(!0):this.id==="simpleThemeToggleModal"?this.classList.add("hidden"):this.id==="superSecretThemesModal"?(this.classList.add("hidden"),se()):this.classList.add("hidden")}})}),document.addEventListener("keydown",s=>{if(s.key==="Escape"){if(h.isActive)return;let i=null;if(H&&!H.classList.contains("hidden")?i=H:W&&!W.classList.contains("hidden")?i=W:D&&!D.classList.contains("hidden")?i=D:L&&!L.classList.contains("hidden")&&(i=L),i&&(i.id==="emergencyQuestModal"||i.id==="cheatModal"||i.id==="supportPromptModal"||i.id==="supportRedirectConfirmModal"))return;let r=!1;Y&&!Y.classList.contains("hidden")?(Y.classList.add("hidden"),r=!0):G&&!G.classList.contains("hidden")?(G.classList.add("hidden"),r=!0):R&&!R.classList.contains("hidden")?(R.classList.add("hidden"),r=!0):C&&!C.classList.contains("hidden")?(C.classList.add("hidden"),se(),r=!0):j&&!j.classList.contains("hidden")?(j.classList.add("hidden"),r=!0):ie&&!ie.classList.contains("hidden")?(ie.classList.add("hidden"),r=!0):F&&!F.classList.contains("hidden")?(rt(),r=!0):B&&!B.classList.contains("hidden")&&re&&(re(!0),r=!0),r&&X()}}),be&&be.addEventListener("click",un),_e&&_e.addEventListener("click",gn),ke&&ke.addEventListener("click",cn),De&&De.addEventListener("click",()=>{G&&G.classList.add("hidden"),X()}),Ne&&Ne.addEventListener("click",()=>{const s=p==="cyberpunk"?"minimalist":"cyberpunk";Je(s),c(`Switched to ${s.charAt(0).toUpperCase()+s.slice(1)} theme!`,"info",!0),R&&R.classList.add("hidden")}),Ce&&Ce.addEventListener("click",()=>{R&&R.classList.add("hidden")}),C&&document.querySelectorAll("#superSecretThemesModal .theme-options-grid button").forEach(s=>{s.addEventListener("click",i=>{oe=i.target.dataset.themeName;const r=oe.split("-").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" ");je&&(je.textContent=`Do you want to change to ${r} theme?`),Me&&Me.classList.add("hidden"),ve&&ve.classList.remove("hidden")})}),Xe&&Xe.addEventListener("click",()=>{if(oe){Je(oe);const s=oe.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ");c(`Theme changed to ${s}.`,"success",!0)}C&&C.classList.add("hidden"),se()}),Ue&&Ue.addEventListener("click",()=>{C&&C.classList.add("hidden"),se(),c("Theme change cancelled.","info",!0)}),ge&&ge.addEventListener("click",()=>{D&&D.classList.remove("hidden")}),Le&&Le.addEventListener("click",()=>{D&&D.classList.add("hidden"),L&&L.classList.remove("hidden")}),Re&&Re.addEventListener("click",()=>{D&&D.classList.add("hidden")}),Pe&&Pe.addEventListener("click",()=>{L&&L.classList.add("hidden"),navigator.onLine?window.open("https://yiguyfguygtyig.my.canva.site/support-system-64","_blank"):Y&&Y.classList.remove("hidden")}),Oe&&Oe.addEventListener("click",()=>{L&&L.classList.add("hidden")}),we&&we.addEventListener("click",()=>{Y&&Y.classList.add("hidden")})}function It(){h.steps=[{title:"WELCOME TO SYSTEM 64",body:()=>`
  <style>
    .dot-loader::before {
      display: inline-block;
      font-family: monospace;
      white-space: pre;
      content: '•--------';
      animation: dotMove 2s steps(8) infinite alternate;
    }

    @keyframes dotMove {
      0%   { content: '•--------'; }
      12.5%{ content: '-•-------'; }
      25%  { content: '--•------'; }
      37.5%{ content: '---•-----'; }
      50%  { content: '----•----'; }
      62.5%{ content: '-----•---'; }
      75%  { content: '------•--'; }
      87.5%{ content: '-------•-'; }
      100% { content: '--------•'; }
    }
  </style>

  <p><strong>Booting Up SYSTEM 64</strong> <span class="dot-loader"></span></p>
  <p>Hey <strong>${o.name||"Operator"}</strong>! you are booting up the system. This system helps you build real-life skills like a game.</p>
`,buttonText:"OK",centered:!1},{title:"Instructions - Part 1",body:()=>`<p>You’ll get tasks (“Scenarios”) tied to skills like strength, learning, or budgeting. Each task shows XP, difficulty, and a timer if needed.</p>
                                 <p>Hit Accept to start</p>
                                 <p>Decline to skip</p>
                                 <p>Complete or Fail based on how it went</p>`,buttonText:"OK",centered:!0},{title:"Instructions - Part 2",body:()=>`<ul>
                                    <li>New Task gives you another challenge</li>
                                    <li>Reset Progress wipes everything (careful!)</li>
                                    <li><span class="red-text">Don't cheat, the system watches</span></li>
                                    <li>Take breaks when needed</li>
                                    <li>Tap or hold 30 seconds on "64" for theme surprises</li>
                                 </ul>`,buttonText:"OK",centered:!0},{title:"System Online",body:()=>"<p>Level up your real-life self. SYSTEM 64 is online.</p>",buttonText:"Let's Go!",centered:!1}]}function yt(){!Q||!o.name||(h.isActive=!0,h.currentStep=0,Mt(),Q.classList.remove("hidden"),N())}function Mt(){if(!Q||!it||!ot||!Be)return;const e=h.steps[h.currentStep];if(!e)return;it.textContent=e.title,ot.innerHTML=e.body();const t=Q.querySelector(".modal-content");t&&(e.centered?t.classList.add("intro-centered-content"):t.classList.remove("intro-centered-content")),Be.innerHTML="";const n=document.createElement("button");n.textContent=e.buttonText,n.classList.add("modal-button-confirm"),e.centered&&n.classList.add("small-bottom-center"),n.addEventListener("click",()=>{X(),Gt()}),Be.appendChild(n)}function Gt(){h.currentStep++,h.currentStep<h.steps.length?Mt():(Q.classList.add("hidden"),localStorage.setItem("hasSeenIntro_v1","true"),h.isActive=!1,c(`Welcome, ${o.name}! System ready.`,"info"),ee(),N())}function Ht(e,t,n,s,i){o={name:e,age:parseInt(t),status:n,weight:parseFloat(s),height:parseFloat(i),level:1,xp:0,uniqueSkill:"None",skills:{}};for(const r in Z)o.skills[r]=1;pe=0,Te=0,q()}function q(){localStorage.setItem("rlLevelingCharV3",JSON.stringify(o)),localStorage.setItem("rlLevelingScenarioV3",pe.toString()),localStorage.setItem("rlLevelingCheatAttemptsV3",Te.toString())}function Wt(){const e=localStorage.getItem("rlLevelingCharV3");if(e){o=JSON.parse(e),o.skills||(o.skills={});for(const t in Z)t in o.skills||(o.skills[t]=1)}else{o={name:null,skills:{}};for(const t in Z)o.skills[t]=1}pe=parseInt(localStorage.getItem("rlLevelingScenarioV3"))||0,Te=parseInt(localStorage.getItem("rlLevelingCheatAttemptsV3"))||0}function vt(){ne&&ne.classList.remove("hidden"),$&&$.classList.add("hidden"),S&&(S.textContent="Welcome! Please create your character."),p==="text-terminal"&&S&&S.classList.add("blinking-cursor")}function St(){ne&&ne.classList.add("hidden"),$&&$.classList.remove("hidden")}function At(){$&&$.classList.remove("hidden")}function c(e,t="info",n=!1,s=3500){S&&(S.textContent=e,S.className="message",S.classList.add(t),p==="text-terminal"?S.classList.add("blinking-cursor"):S.classList.remove("blinking-cursor"),n&&setTimeout(()=>{S.textContent===e&&(S.textContent="Awaiting task...",S.className="message",p==="text-terminal"&&S.classList.add("blinking-cursor"))},s))}function N(){const e=k||g||h.isActive;de&&(de.disabled=e),ue&&(ue.disabled=k&&a&&a.timerRunning||g||h.isActive),ce&&(ce.disabled=g||h.isActive),me&&(me.disabled=g||h.isActive),w&&(w.style.pointerEvents=g||h.isActive?"none":"auto"),ge&&(ge.disabled=g||h.isActive)}function $t(e){if(e.preventDefault(),g){c("System Lockout: Profile creation unavailable.","error",!0),I();return}const t=i=>{const r=document.getElementById(i);return r?r.value.trim():""},n=i=>{const r=document.getElementById(i);return r?parseFloat(r.value):NaN};let s=[];if(t("nameInput")||s.push("Name missing."),(isNaN(n("ageInput"))||n("ageInput")<1)&&s.push("Valid age missing."),t("statusInput")||s.push("Status missing."),(isNaN(n("weightInput"))||n("weightInput")<1)&&s.push("Valid weight missing."),(isNaN(n("heightInput"))||n("heightInput")<1)&&s.push("Valid height missing."),s.length>0){c("Error: "+s.join(" "),"error",!0,4e3),I();return}Ht(t("nameInput"),n("ageInput"),t("statusInput"),n("weightInput"),n("heightInput")),St(),At(),localStorage.removeItem("hasSeenIntro_v1"),It(),yt()}function He(e){for(const t of ft)if(e<=t.maxLevel)return t.name;return"⚔️ ???"}function A(e,t,n,s=""){const i=document.createElement(e);return i.innerHTML=t,s&&(i.className=s),n&&n.appendChild(i),i}function qt(){if(g||h.isActive){c("System Lockout: Profile access restricted.","error",!0),I();return}if(!O)return;O.innerHTML="",A("p",`<strong>Name:</strong> ${o.name}`,O),A("p",`<strong>Age:</strong> ${o.age}`,O),A("p",`<strong>Status:</strong> ${o.status}`,O),A("p",`<strong>Weight/Height:</strong> ${o.weight}kg / ${o.height}cm`,O),A("p",`<strong>Level:</strong> ${o.level} (${He(o.level)}) [XP: ${o.xp}%]`,O),A("h4","Skills:",O);const e=Object.entries(o.skills).map(([t,n])=>`<li>${t.replace(/([A-Z])/g," $1").trim()}: Lvl ${n}</li>`).join("");A("ul",e,O),A("p",`<strong>Unique Skill:</strong> ${o.uniqueSkill}`,O),j&&j.classList.remove("hidden")}function Et(e){const t=document.getElementById(e);if(!t){console.error("Stats container not found for operator stats:",e);return}t.innerHTML="",!(!o||!o.name)&&(A("p",`<strong>Operator:</strong> ${o.name}`,t),A("p",`<strong>Rank:</strong> ${o.level} (${He(o.level)})`,t),A("p",`<strong>Experience Protocol:</strong> ${o.xp}% / ${Ze}XP`,t),A("p",`<strong>Unique Signature:</strong> ${o.uniqueSkill}`,t))}function zt(){if(g||h.isActive){c("System Lockout: Dashboard access restricted.","error",!0),I();return}if(!o||!o.name){c("Create a character first to view the dashboard.","info",!0);return}const e=document.getElementById("dashboardModal"),t=document.getElementById("normalDashboardSkillsContent"),n=document.getElementById("normalDashboardView"),s=document.getElementById("advancedDashboardView");if(!t||!e||!n||!s){console.error("Dashboard view elements not found for displayDashboard!");return}n.classList.remove("hidden"),s.classList.add("hidden"),Et("normalDashboardTextStats"),t.innerHTML="";const i={};for(const r in Z){const m=Z[r].domain;i[m]||(i[m]=[]),i[m].push(r)}for(const r in i){const m=A("div","",t,"skill-domain-group");A("h5",`${r} Aptitudes`,m);const l=A("div","",m,"skills-container-grid");i[r].forEach(T=>{const u=A("div","",l,"skill-entry-box"),f=T.replace(/([A-Z])/g," $1").trim();A("p",`<strong>${f}</strong>`,u);const M=o.skills[T]||1,v=25,E=document.createElement("label"),lt=`skill-progress-${r.replace(/\s+/g,"-")}-${T}`;E.setAttribute("for",lt),E.innerHTML=`Lvl ${M} <span style="font-size:0.8em; opacity:0.7;">(bar max: ${v})</span>:`,u.appendChild(E);const he=document.createElement("progress");he.id=lt,he.value=M,he.max=v,he.textContent=`${Math.round(M/v*100)}%`,u.appendChild(he)})}e&&e.classList.remove("hidden")}function Kt(){if(!o||!o.name){console.warn("Cannot render radar chart without character data.");return}const e=document.getElementById("skillRadarChart");if(!e){console.error("Radar chart canvas element not found!");return}Et("advancedDashboardTextStats");const t=[],n=[],s=25;for(const M in Z){const v=M.replace(/([A-Z])/g," $1").trim();t.push(v),n.push(o.skills[M]||1)}ze&&ze.destroy();const i=getComputedStyle(document.body),r=i.getPropertyValue("--color-primary").trim(),m=i.getPropertyValue("--color-text").trim(),l=i.getPropertyValue("--color-medium-gray").trim()+"60",T=r+"4D",f={type:"radar",data:{labels:t,datasets:[{label:"Skill Levels",data:n,fill:!0,backgroundColor:T,borderColor:r,pointBackgroundColor:r,pointBorderColor:i.getPropertyValue("--modal-content-background").trim()||"#fff",pointHoverBackgroundColor:i.getPropertyValue("--modal-content-background").trim()||"#fff",pointHoverBorderColor:r,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{angleLines:{display:!0,color:l},grid:{color:l},pointLabels:{color:m,font:{size:10,family:i.getPropertyValue("--font-family-main").trim()}},suggestedMin:0,suggestedMax:s,ticks:{display:!0,stepSize:Math.ceil(s/5),color:m+"AA",backdropColor:"transparent",font:{family:i.getPropertyValue("--font-family-main").trim()}}}},plugins:{legend:{display:!0,position:"top",labels:{color:m,font:{family:i.getPropertyValue("--font-family-main").trim()}}},tooltip:{enabled:!0}}}};p==="8bit"&&(f.options.scales.r.pointLabels.font.size=8,f.options.scales.r.ticks.display=!1,f.options.elements||(f.options.elements={}),f.options.elements.line={borderWidth:3},f.options.plugins.legend.position="bottom"),ze=new Chart(e,f)}function jt(e){o.xp+=Math.floor(e),c(`+${Math.floor(e)} XP!`,"success",!0,2e3),Jt(),q()}function bt(e){o.xp=Math.max(0,o.xp-Math.floor(e)),c(`-${Math.floor(e)} XP.`,"error",!0,2e3),q()}function Jt(){let e=!1;for(;o.xp>=Ze;)o.level++,o.xp-=Ze,e=!0,c(`Level Up! Reached Rank: ${He(o.level)}`,"success",!1),Ae(),o.level===20&&o.uniqueSkill==="None"&&_t();e&&q()}function Zt(e){o.skills[e]===void 0&&(o.skills[e]=0),o.skills[e]++,c(`${e.replace(/([A-Z])/g," $1").trim()} improved to Level ${o.skills[e]}.`,"success",!0,3e3),Qt(e),q()}function Qt(e){o.skills[e]>0&&o.skills[e]%5===0&&(o.level++,o.xp=0,c(`Skill Milestone! Overall Rank Upgraded to: ${He(o.level)}`,"success",!1),Ae(),o.level===20&&o.uniqueSkill==="None"&&_t(),q())}function _t(){if(!o||o.level<20||o.uniqueSkill!=="None")return;let e=0,t=[];for(const n in o.skills)o.skills[n]>e?(e=o.skills[n],t=[n]):o.skills[n]===e&&t.push(n);e===0?o.uniqueSkill="Latent Potential":t.length>=3&&e>=o.level/2?o.uniqueSkill="Polymath":t.some(n=>["Strength","Endurance","Agility"].includes(n))?o.uniqueSkill="Peak Physique":t.some(n=>["Focus","Learning","ProblemSolving","Creativity"].includes(n))?o.uniqueSkill="Sharp Mind":t.some(n=>["FinancialLiteracy","Budgeting","Investing"].includes(n))?o.uniqueSkill="Wealth Weaver":t.some(n=>["Discipline","SelfAwareness","GoalSetting","Mindfulness"].includes(n))?o.uniqueSkill="Stoic Heart":t.some(n=>["Community","Relationship"].includes(n))?o.uniqueSkill="Social Butterfly":o.uniqueSkill="Prodigy of "+t[0].replace(/([A-Z])/g," $1").trim(),c(`Unique Skill Unlocked: ${o.uniqueSkill}!`,"success",!0,5e3),Ae(),q()}const Fe=e=>e[Math.floor(Math.random()*e.length)],en=(e,t)=>Math.floor(Math.random()*(t-e+1))+e;function tn(){const e=pt[o.level]||"D";let t=le.filter(u=>u.difficultyCode===e);if(t.length===0&&(t=le.filter(u=>u.difficultyCode==="C")),t.length===0&&(t=le.filter(u=>u.difficultyCode==="B")),t.length===0&&(t=[...le]),t.length===0)return c("No tasks available!","error",!1),y&&(y.innerHTML='<p style="text-align:center; color: var(--color-error);">Task Database Empty.</p>'),I(),null;const n=Fe(t);let s=n.descriptionTemplate,i=n.timeLimitMinutes;const r={};if(n.variables)for(const u in n.variables){const f=n.variables[u];let M,v;if(u==="BOOK_TITLE")M=v=Fe(ht);else if(typeof f=="string"&&f.endsWith("_X_ITEMS")){const E=window[f];E&&Array.isArray(E)?M=v=Fe(E):(console.warn(`Item source array "${f}" not found or not an array for task ${n.id}. Defaulting.`),M=v=`[Data for ${f.replace("_X_ITEMS","")} N/A]`)}else if(typeof f=="object"&&f.min!==void 0){if(M=en(f.min,f.max),v=M,f.levelScaleFactor){let E=M+o.level*f.levelScaleFactor;E=Math.max(n.durationVariable===u?1:f.min,Math.round(E)),v=E,M=E}}else console.warn(`Unknown variable config for key "${u}" in task ${n.id}, config:`,f),M=v=`[VAR_ERR:${u}]`;r[u]=v,s=s.replace(new RegExp(`\\[${u.replace("_X_ITEMS","_X")}\\]`,"g"),`<strong>${v}</strong>`),n.timeLimitMinutes==="DYNAMIC"&&n.durationVariable===u&&(i=M)}const m=.1,l=n.baseXPGain+Math.floor(n.baseXPGain*o.level*m),T=n.baseXPFailurePenalty+Math.floor(n.baseXPFailurePenalty*o.level*m);return pe++,q(),{id:n.id,scenarioNumber:pe,description:s,skill:n.skill,difficultyName:Tt[n.difficultyCode]||"Unknown",difficultyCode:n.difficultyCode,timeLimitMinutes:typeof i=="number"&&i>0?i:null,xpGain:l,failurePenalty:T,template:n,resolvedVariables:r}}function ee(){if(g||h.isActive){g&&(c("System Lockout: New tasks unavailable.","error",!0),y&&(y.innerHTML='<p style="text-align:center; color: var(--color-error); font-size: 1.2em;">SYSTEM LOCKOUT ACTIVE</p>'),I());return}if(k){c("Resolve current task.","error",!0),I();return}Ee(),a=tn(),a?(We(a,"initial"),Ye=Date.now()):y&&(y.innerHTML='<p style="text-align:center;">Awaiting Task Assignment...</p>'),N()}function Ee(){y&&(y.innerHTML=""),b&&(clearInterval(b),b=null),P=0}function We(e,t="initial"){if(!y)return;y.innerHTML="";const n=document.createElement("div");n.className="scenario-box";const s=(l,T="")=>{const u=document.createElement("p");return u.innerHTML=l,T&&(u.className=T),n.appendChild(u),u},i=(l,T,u="")=>{const f=document.createElement("button");return f.textContent=l,f.classList.add(`task-button-${T}`),u&&f.classList.add(u),f.dataset.action=T,f};let r=`Scenario ${String(e.scenarioNumber).padStart(2,"0")}`;t==="accepted"&&(r+=" (In Progress)"),t==="timerActive"&&(r+=" (Timer Active)"),s(r,"scenario-number"),s(e.description,"scenario-description");const m=document.createElement("div");if(m.className="scenario-actions",t==="initial")m.appendChild(i("Accept","accept")),m.appendChild(i("Decline","decline")),e.timeLimitMinutes&&m.appendChild(i("Start Timed Task","start-timer"));else if(t==="accepted")e.timeLimitMinutes&&!(a&&a.timerRunning)&&(s(`This task has a suggested time limit of ${e.timeLimitMinutes} minute(s). Press 'Start Timer' to begin countdown.`,"scenario-details"),m.appendChild(i("Start Timer","start-timer"))),m.appendChild(i("Completed","complete")),a&&a.timerRunning||m.appendChild(i("Failed","fail"));else if(t==="timerActive"){const l=s("","timer-display");kt(l),s("Focus! Complete the task before the timer runs out.","scenario-details")}n.appendChild(m),t==="initial"&&(s(`Difficulty: ${e.difficultyName} [${e.difficultyCode}]`,"scenario-details"),e.timeLimitMinutes&&s(`Suggested Time: ${e.timeLimitMinutes}m`,"scenario-details"),s(`Fail: -${e.failurePenalty}XP`,"scenario-details"),s(`Win: +${e.xpGain}XP, +1 ${e.skill.replace(/([A-Z])/g," $1").trim()} Lvl`,"scenario-details")),y.appendChild(n)}function nn(e){if(g||h.isActive){c("System Lockout: Actions unavailable.","error",!0),I();return}const t=e.target.closest("button[data-action]");if(!t||!a)return;switch(t.dataset.action){case"accept":on(a);break;case"decline":sn(a);break;case"start-timer":rn(a);break;case"complete":Nt(a);break;case"fail":st(a,!1);break}}function on(e){if(k&&a&&a.timerRunning){c("Timer active. Cannot re-accept.","error",!0),I();return}c("Scenario Started.","info",!0),k=!0,We(e,"accepted"),N()}function sn(e){if(k&&a&&a.id===e.id){c("Resolve active task or reset if stuck.","error",!0),I();return}V++,_?(bt(mt),c(`Task Skipped. -${mt} XP penalty applied.`,"warning",!0,4e3)):c("Scenario Cancelled.","info",!0),!_&&V===Ot?G&&G.classList.remove("hidden"):!_&&V>=wt&&(_=!0,c("Skip penalty protocol now active. Future skips will incur XP deduction.","error",!1),I()),$e(),Ee(),a=null,k=!1,g?N():ee()}function rn(e){if(!e.timeLimitMinutes||e.timeLimitMinutes<=0){c("This task does not have a valid time limit.","error",!0),I();return}if(a&&a.timerRunning){c("Timer already active.","error",!0),I();return}c("Timed Scenario Started!","info",!0),k=!0,a&&(a.timerRunning=!0),P=e.timeLimitMinutes*60,We(e,"timerActive"),b&&clearInterval(b),b=setInterval(()=>{P--;const t=y?y.querySelector(".timer-display"):null;t&&kt(t),P<=0?(clearInterval(b),b=null,ct(!0),a&&(a.timerRunning=!1,c("Time's up! Assess your completion.","info",!1),an())):P<=10&&P>0&&P%2===0&&ct()},1e3),N()}function an(){if(!a||!B)return;B.classList.remove("hidden");const e=document.getElementById("timerTaskCompletedButton"),t=document.getElementById("timerTaskUnfinishedButton"),n=l=>{r(),l?Nt(a):st(a,!0)},s=e.cloneNode(!0);e.parentNode.replaceChild(s,e),s.addEventListener("click",()=>{X(),n(!0)});const i=t.cloneNode(!0);t.parentNode.replaceChild(i,t),i.addEventListener("click",()=>{X(),n(!1)});const r=(l=!1)=>{B&&B.classList.add("hidden"),document.removeEventListener("keydown",m),re=null,l&&a&&(c("Task marked as unfinished due to dismissal.","warning",!0),st(a,!0))},m=l=>{l.key==="Escape"&&B&&!B.classList.contains("hidden")&&(X(),r(!0))};re=r,document.addEventListener("keydown",m)}function kt(e){if(e)if(a&&a.timerRunning&&P>0){const t=Math.floor(P/60),n=P%60;e.textContent=`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`}else P<=0&&y&&y.querySelector(".timer-display")&&(e.textContent="00:00")}function ln(){return Te++,q(),I(),Te>=xt?(Dt(),c("Cheaters get what they deserve. System reset.","error",!1),!0):(ae=JSON.parse(JSON.stringify(a)),tt&&(tt.textContent=Fe(Bt)),W&&W.classList.remove("hidden"),!0)}function cn(){if(W&&W.classList.add("hidden"),ae){a=ae;let e="initial";k&&a.id===ae.id&&(e="accepted"),We(a,e),c("Task reloaded. Please complete it fairly.","warning",!0)}else ee();ae=null,N()}function Nt(e){if(!a||a.id!==e.id){c("Task mismatch.","error",!0),I();return}if(Ye&&Date.now()-Ye<Ut&&ln())return;a.timerRunning&&(clearInterval(b),b=null,a.timerRunning=!1);const t=a.description.replace(/<[^>]+>/g,"").substring(0,30);c(`"${t}..." completed successfully!`,"success",!0,4e3),Ae(),jt(a.xpGain),Zt(a.skill),U++,V=0,_&&(_=!1,c("Good work! Skip penalty protocol has been reset.","success",!0,5e3)),$e(),at(),Ee(),a=null,k=!1,g?N():ee()}function st(e,t=!1){if(!a||a.id!==e.id){c("Task mismatch.","error",!0),I();return}a.timerRunning&&!t&&(clearInterval(b),b=null,a.timerRunning=!1);const n=t?" (time expired or dismissed)":"",s=a.description.replace(/<[^>]+>/g,"").substring(0,30);c(`"${s}..." failed${n}.`,"error",!0,4e3),I(),bt(a.failurePenalty),t||(V=0,_&&(_=!1,c("Task attempt noted. Skip penalty protocol reset.","info",!0,5e3))),$e(),Ee(),a=null,k=!1,g?(at(),N()):ee()}function $e(){g?localStorage.setItem("emergencyCooldownEndTimeV3",x.toString()):localStorage.removeItem("emergencyCooldownEndTimeV3"),localStorage.setItem("sessionTaskCompletionsV3",U.toString()),localStorage.setItem("consecutiveSkipsV3",V.toString()),localStorage.setItem("skipPenaltyActiveV3",_.toString())}function mn(){const e=localStorage.getItem("emergencyCooldownEndTimeV3");e?(x=parseInt(e,10),Date.now()<x?g=!0:(g=!1,U=0,localStorage.removeItem("emergencyCooldownEndTimeV3"),localStorage.removeItem("sessionTaskCompletionsV3"),localStorage.removeItem("consecutiveSkipsV3"),localStorage.removeItem("skipPenaltyActiveV3"))):g=!1,!g||Date.now()>=x?(U=parseInt(localStorage.getItem("sessionTaskCompletionsV3"),10)||0,g&&Date.now()>=x&&(U=0,localStorage.setItem("sessionTaskCompletionsV3","0"),V=0,localStorage.removeItem("consecutiveSkipsV3"),_=!1,localStorage.removeItem("skipPenaltyActiveV3"))):g=!1,!g||Date.now()>=x?(U=parseInt(localStorage.getItem("sessionTaskCompletionsV3"),10)||0,g&&Date.now()>=x&&(U=0,localStorage.setItem("sessionTaskCompletionsV3","0"),V=0,localStorage.removeItem("consecutiveSkipsV3"),_=!1,localStorage.removeItem("skipPenaltyActiveV3"))):U=parseInt(localStorage.getItem("sessionTaskCompletionsV3"),10)||0,V=parseInt(localStorage.getItem("consecutiveSkipsV3"))||0,_=localStorage.getItem("skipPenaltyActiveV3")==="true"}function at(){if(g){const e=Date.now();e<x?(ut(x-e),y&&(y.innerHTML='<p style="text-align:center; color: var(--color-error); font-size: 1.2em;">SYSTEM LOCKOUT ACTIVE</p>')):Ct()}else U>=Xt&&(g=!0,x=Date.now()+dt,$e(),ut(dt),y&&(y.innerHTML='<p style="text-align:center; color: var(--color-error); font-size: 1.2em;">SYSTEM LOCKOUT INITIATED</p>'),c("Excessive system engagement! Emergency Cooldown initiated.","warning",!1),I());N()}function ut(e){H&&H.classList.remove("hidden"),N();let t=Math.ceil(e/1e3);J&&clearInterval(J);function n(){if(t<=0){Ct();return}const s=Math.floor(t/3600),i=Math.floor(t%3600/60),r=t%60;et&&(et.textContent=`${String(s).padStart(2,"0")}:${String(i).padStart(2,"0")}:${String(r).padStart(2,"0")}`),t--}n(),J=setInterval(n,1e3)}function Ct(){J&&clearInterval(J),J=null,H&&H.classList.add("hidden"),g=!1,U=0,localStorage.removeItem("emergencyCooldownEndTimeV3"),localStorage.setItem("sessionTaskCompletionsV3","0"),localStorage.removeItem("consecutiveSkipsV3"),localStorage.removeItem("skipPenaltyActiveV3"),V=0,_=!1,c("Cooldown Finished. System returning to normal.","success",!0,5e3),Ae(),N(),ee()}function dn(){if(g||h.isActive){c("System Lockout: Reset unavailable.","error",!0),I();return}if(k&&a&&a.timerRunning){c("Cannot reset while a timed task is active.","error",!0),I();return}K=0,Se&&(Se.textContent=Qe[K]),F&&F.classList.remove("hidden")}function un(){K++,K<Qe.length?(Se&&(Se.textContent=Qe[K]),p==="cyberpunk"||p==="matrix"||p==="text-terminal"?d("triangle",600-K*50,.1):p==="8bit"&&d("square",400-K*40,.1)):(F&&F.classList.add("hidden"),Dt())}function gn(){rt()}function rt(){F&&F.classList.add("hidden"),K=0,c("Phew! Reset cancelled. Your progress is safe.","info",!0,4e3)}function Dt(){localStorage.removeItem("rlLevelingCharV3"),localStorage.removeItem("rlLevelingScenarioV3"),localStorage.removeItem("emergencyCooldownEndTimeV3"),localStorage.removeItem("sessionTaskCompletionsV3"),localStorage.removeItem("rlLevelingCheatAttemptsV3"),localStorage.removeItem("consecutiveSkipsV3"),localStorage.removeItem("skipPenaltyActiveV3"),localStorage.removeItem("hasSeenIntro_v1"),o={name:null,skills:{}};for(const e in Z)o.skills[e]=1;pe=0,U=0,g=!1,x=0,Te=0,Ye=0,ae=null,V=0,_=!1,h.isActive=!1,J&&clearInterval(J),b&&(clearInterval(b),b=null),a=null,k=!1,P=0,Ee(),S&&(S.textContent="",S.className="message"),[j,ie,B,F,H,W,R,C,D,L,Y,G,Q].forEach(e=>{e&&e.classList.add("hidden")}),vt(),N(),c("SYSTEM RESET! All progress wiped. A fresh start awaits!","warning",!1),I(),z&&z.reset()}function fn(e){if(Ge){Ge=!1;return}if(g||h.isActive)return;X();const t=p==="cyberpunk"?"Minimalist":"Cyberpunk";nt&&(nt.textContent=`Switch to ${t} mode?`),R&&R.classList.remove("hidden")}function gt(e){e.preventDefault(),!(g||fe||h.isActive)&&(Ge=!1,fe=setTimeout(()=>{Ge=!0,pn()},Ft))}function xe(){fe&&(clearTimeout(fe),fe=null)}function pn(){if(fe=null,g){c("Super Secret System access denied during cooldown.","error",!0),I();return}c("SUPER SECRET SYSTEM ACTIVATED!","success",!0,2500),d("sawtooth",80,.4,.03,.02,.35),setTimeout(()=>d("sine",1200,.2,.02,.05,.15),150),setTimeout(()=>{se(),C&&C.classList.remove("hidden")},1500)}function se(){oe=null,Me&&Me.classList.remove("hidden"),ve&&ve.classList.add("hidden")}document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("introOverlay"),t="Q3JlYXRlZCBieSBTZWJhc3RpYW4gUm9ua2hh";e.innerHTML=atob(t)});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(e=>{console.log("ServiceWorker registered successfully:",e.scope)}).catch(e=>{console.log("ServiceWorker registration failed:",e)})});
